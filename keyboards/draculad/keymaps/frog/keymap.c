/*
Copyright 2021 @mangoiv

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include QMK_KEYBOARD_H
#include "g/keymap_combo.h"

#ifdef SWAP_HANDS_ENABLE
/*
*/
  const keypos_t hand_swap_config[MATRIX_ROWS][MATRIX_COLS] = {
    {{0, 4}, {1, 4}, {2, 4}, {3, 4}, {4, 4}},
    {{0, 5}, {1, 5}, {2, 5}, {3, 5}, {4, 5}},
    {{0, 6}, {1, 6}, {2, 6}, {3, 6}, {4, 6}},
    {{0, 7}, {1, 7}, {2, 7}, {3, 7}, {4, 7}},
    {{0, 0}, {1, 0}, {2, 0}, {3, 0}, {4, 0}},
    {{0, 1}, {1, 1}, {2, 1}, {3, 1}, {4, 1}},
    {{0, 2}, {1, 2}, {2, 2}, {3, 2}, {4, 2}},
    {{0, 3}, {1, 3}, {3, 3}, {3, 3}, {4, 3}},
  };
/*
  const keypos_t PROGMEM hand_swap_config[MATRIX_ROWS][MATRIX_COLS] = {
    {{9, 0}, {8, 0}, {7, 0}, {6, 0}, {5, 0}, {4, 0}, {3, 0}, {2, 0}, {1, 0}, {0, 0}},
    {{9, 1}, {8, 1}, {7, 1}, {6, 1}, {5, 1}, {4, 1}, {3, 1}, {2, 1}, {1, 1}, {0, 1}},
    {{9, 2}, {8, 2}, {7, 2}, {6, 2}, {5, 2}, {4, 2}, {3, 2}, {2, 2}, {1, 2}, {0, 2}},
    {{9, 3}, {8, 3}, {7, 3}, {6, 3}, {5, 3}, {4, 3}, {3, 3}, {2, 3}, {1, 3}, {0, 3}},
  };
*/
#endif


enum layer_number {
  _BASE,
  _ALT,
  _RAISE,
  _LOWER,
  _ADJ,
  _MOUSE,
  _GAME,
  _FROG,
  _TOAD
};

//  start up  
void keyboard_post_init_user(void){
  set_single_persistent_default_layer(_BASE);
}

//  on layer changes
layer_state_t layer_state_set_user(layer_state_t state) {
    if (layer_state_cmp(state, _ADJ) || layer_state_cmp(state, _FROG) || layer_state_cmp(state, _TOAD)) {
      combo_enable();
    } else {
      combo_disable();
    }
    return state;
}

bool scrollOrArrow = true;

//  keycose

#define TOAD_S LT(_TOAD, KC_S)
#define FROG TO(_FROG)


enum draculad_keycodes {
  LOWER,
  RAISE,
  TOGG,
  TOAD_F
};

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
  switch (keycode) {
    case LOWER:
      if (record->event.pressed) {
        layer_on(_LOWER);
        update_tri_layer(_LOWER, _RAISE, _ADJ);
      } else {
        layer_off(_LOWER);
        update_tri_layer(_LOWER, _RAISE, _ADJ);
      }
      return false;
    case RAISE:
      if (record->event.pressed) {
        layer_on(_RAISE);
        update_tri_layer(_LOWER, _RAISE, _ADJ);
      } else {
        layer_off(_RAISE);
        update_tri_layer(_LOWER, _RAISE, _ADJ);
      }
      return false;
    case TOGG:
      if (record->event.pressed){
        if (scrollOrArrow){
          scrollOrArrow = false;
        } else {
          scrollOrArrow = true;
        }
      }
      return false;
    case TOAD_F:
      if (record->tap.count && record->event.pressed) {
        tap_code(KC_F);
      } else if (record->event.pressed) {
        tap_code16(SH_ON);
        layer_on(_TOAD);
      } else {
        tap_code16(SH_OFF);
        layer_off(_TOAD);
      }
      return false;
    }
  return true;
}


const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [_BASE] =  LAYOUT(
        KC_Q,         KC_W,    KC_E,    KC_R,    KC_T,                        KC_Y,     KC_U,    KC_I,    KC_O,    KC_P,
        CTL_T(KC_A),  KC_S,    KC_D,    KC_F,    KC_G,                        KC_H,     KC_J,    KC_K,    KC_L,    CTL_T(KC_SCLN),
        LSFT_T(KC_Z), KC_X,    GUI_T(KC_C), ALT_T(KC_V), KC_B,              KC_N, ALT_T(KC_M), GUI_T(KC_COMM),KC_DOT,RSFT_T(KC_SLSH),
                                                 TOGG,                   TOGG,
                                 LOWER,   KC_BSPC, LM(_ALT, MOD_LALT),    KC_QUOT, KC_SPC, RAISE
    ),
  /*
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
                                            XXXXXXX,                      XXXXXXX,
                                    XXXXXXX, XXXXXXX, XXXXXXX,    XXXXXXX, XXXXXXX, XXXXXXX
   
   
          _______, _______, _______, _______, _______,                      _______, _______, _______, _______, _______,
          _______, _______, _______, _______, _______,                      _______, _______, _______, _______, _______,
          _______, _______, _______, _______, _______,                      _______, _______, _______, _______, _______,
                                              _______,                      _______,
                                     _______, _______, _______,    _______, _______, _______
   */
  
    [_ALT] = LAYOUT(
        KC_TAB,  XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, FROG,                         XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
        KC_LSFT, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
                                            XXXXXXX,                      XXXXXXX,
                                   XXXXXXX, XXXXXXX, _______,    XXXXXXX, XXXXXXX, XXXXXXX
    ),
    [_RAISE] = LAYOUT(
        KC_1,    KC_2,    KC_3,    KC_4,    KC_5,                         KC_6,    KC_7,    KC_8,    KC_9,    KC_0,
        KC_LCTL, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      KC_PGUP, KC_MINS, KC_EQL,  KC_LBRC, KC_RBRC,
        KC_LSFT, KC_ESC,  KC_LGUI, KC_LALT, XXXXXXX,                      KC_PGDN, KC_GRV,  XXXXXXX, KC_BSLS, KC_ENT,
                                            XXXXXXX,                      XXXXXXX,
                                     LOWER, KC_BSPC, KC_DEL,     XXXXXXX, XXXXXXX, _______
    ),
    [_LOWER] = LAYOUT(
        KC_TAB,  XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
        KC_LCTL, S(G(KC_LEFT)), XXXXXXX, S(G(KC_RGHT)), XXXXXXX,          KC_LEFT, KC_DOWN, KC_UP,   KC_RGHT, XXXXXXX,
        KC_LSFT, KC_ESC,  KC_LGUI, KC_LALT, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
                                            XXXXXXX,                      KC_MUTE,
                                   _______, KC_MPLY, XXXXXXX,    KC_MPRV, KC_MNXT, RAISE
    ),
    [_ADJ] = LAYOUT(
        KC_F1,   KC_F2,   KC_F4,   KC_F8,   KC_F16,                       XXXXXXX, RGB_M_TW,RGB_M_SW,RGB_M_B, RGB_M_P, // add leds stuff here i think
        KC_CAPS, XXXXXXX, XXXXXXX, XXXXXXX, TO(_GAME),                    RGB_MOD, RGB_HUI, RGB_SAI, RGB_VAI, RGB_TOG, // nowhere else to add it
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, TO(_MOUSE),                   XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, KC_LSFT,
                                            XXXXXXX,                      XXXXXXX,
                                   _______, XXXXXXX, XXXXXXX,    XXXXXXX, XXXXXXX, _______
    ),
    [_MOUSE] = LAYOUT(
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,                      KC_LEFT, KC_DOWN, KC_UP,   KC_RGHT, XXXXXXX,
        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, TO(_BASE),                    KC_WH_L, KC_WH_D, KC_WH_U, KC_WH_R, XXXXXXX,
                                            KC_BTN1,                      KC_BTN2,
                                   KC_ACL0, KC_ACL1, KC_ACL2,    XXXXXXX, KC_BTN3, XXXXXXX
    ),
    [_GAME] = LAYOUT(
      KC_Q, KC_W, KC_E, KC_R, KC_T,                        KC_Y, KC_U, KC_I,    KC_O,   KC_P,
      KC_A, KC_S, KC_D, KC_F, KC_G,                        KC_H, KC_J, KC_K,    KC_L,   KC_SCLN,
      KC_Z, KC_X, KC_C, KC_V, KC_B,                        KC_N, KC_M, KC_COMM, KC_DOT, KC_SLSH,
                              KC_ESC,                      TO(_BASE),
                        KC_1, KC_2, KC_3,            KC_4, KC_SPC, KC_5
    ),
    [_FROG] = LAYOUT(
        KC_BSPC, KC_C, KC_N, KC_I, KC_G,                      _______, KC_SLSH, KC_QUOT, KC_LPRN, KC_RPRN,
        LT(_TOAD, KC_S),  KC_T, KC_H, KC_E, KC_O,                      KC_PGUP, KC_MINS, KC_EQL,  KC_LBRC, KC_RBRC,
        KC_F,  KC_D, KC_R, KC_A, KC_U,                      KC_PGDN, KC_GRV,  KC_SCLN, KC_BSLS, KC_ENT,
                                   TO(_BASE),                 _______,
                          SH_MON,  _______, KC_LCTL, KC_LCTL, _______, _______
    ), 
    [_TOAD] = LAYOUT(
        _______, KC_F1,   KC_F2,   KC_F4,   KC_F8,                        _______, _______, KC_UP,   KC_TAB,  KC_DEL,
        _______, KC_1,    KC_2,    KC_4,    KC_8,                         _______, KC_RGHT, KC_DOWN, KC_LEFT, _______,
        _______, _______, _______, _______, _______,                      _______, _______, _______, _______, _______,
                                            _______,                      _______,
                                   _______, _______, _______,    _______, _______, _______
    )
};

#ifdef OLED_ENABLE

oled_rotation_t oled_init_user(oled_rotation_t rotation) {

  if(is_keyboard_left()){
    return OLED_ROTATION_270;
  } else {
    return OLED_ROTATION_90;
  }

}

/*
static void render_logo(void) {
  static const char PROGMEM drac_logo[] = {
    // drac_logo, 128x64px
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80,
    0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x04, 0x0c, 0x18, 0x78, 0xf0, 0xf0, 0xe0, 0xe0, 0xc0,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff,
    0xff, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x03, 0x07, 0x3e, 0xfc, 0xf0, 0x00, 0x00, 0x00,
    0xf0, 0xf0, 0x60, 0x30, 0x30, 0x30, 0x00, 0x00, 0xe0, 0xe0, 0x30, 0x30, 0x30, 0x30, 0x30, 0xe0,
    0xe0, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0x70, 0x30, 0x30, 0x30, 0x70, 0xe0, 0xc0, 0x00, 0x00,
    0xf0, 0xf0, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xe0, 0xe0, 0xe0, 0xc0,
    0x80, 0x00, 0x00, 0x00, 0x80, 0xe0, 0xf8, 0xf0, 0x80, 0xc0, 0xe0, 0xf0, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x3f, 0xff, 0xff,
    0xff, 0xff, 0xfe, 0xfc, 0xf8, 0xe0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff,
    0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xc0, 0xe0, 0x7c, 0x3f, 0x0f, 0x00, 0x00, 0x00,
    0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0xf8, 0xcc, 0x8c, 0x84, 0x86, 0x86, 0xc6, 0xff,
    0xff, 0x80, 0x80, 0x00, 0x3f, 0x7f, 0xe0, 0xc0, 0x80, 0x80, 0x80, 0xc0, 0xf0, 0x71, 0x00, 0x00,
    0x1f, 0xff, 0xff, 0x80, 0x80, 0x80, 0x80, 0xc0, 0xf8, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x03, 0x03, 0x03, 0x07, 0x0f, 0x0f, 0x0f, 0x1f,
    0x7f, 0x7f, 0x3e, 0x3e, 0x7f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfe, 0xf8, 0xf8, 0xfc,
    0xfc, 0xfe, 0xfe, 0x7e, 0x7c, 0x78, 0xe0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
    0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xc0, 0xe0, 0xf0, 0xf8, 0xfe, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff,
    0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xc0, 0x60, 0x60,
    0x60, 0x60, 0x60, 0xc0, 0xc0, 0x00, 0x00, 0x00, 0x00, 0xc0, 0xc0, 0xe0, 0x60, 0x60, 0x60, 0xc0,
    0xc0, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x07,
    0x0f, 0x3e, 0x7c, 0xfc, 0xf8, 0xf8, 0xf8, 0xf8, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf8,
    0xf8, 0xf8, 0xfc, 0xfc, 0xfc, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0x7f, 0x3f, 0x1f, 0x0f, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff,
    0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0xf1, 0x99, 0x18, 0x08,
    0x0c, 0x0c, 0x8c, 0xff, 0xff, 0x00, 0x00, 0x00, 0x7f, 0xff, 0xc1, 0x80, 0x00, 0x00, 0x00, 0x80,
    0xc3, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x07, 0x0f, 0x0f, 0x0f, 0x1f, 0x1f, 0x1f, 0x1f,
    0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x1f, 0x0f, 0x0f, 0x07, 0x07, 0x03, 0x03, 0x01,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x00, 0x00, 0x01, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x01, 0x01, 0x03, 0x03, 0x03, 0x00, 0x00, 0x01, 0x01, 0x03, 0x03, 0x03, 0x03, 0x01,
    0x01, 0x03, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  };
  oled_write_raw_P(drac_logo, sizeof(drac_logo));
}
*/

//  10 letters x 16 letters

static void render_status(void) {
    if (is_keyboard_master()) {
      oled_write_P(PSTR("Master\n~~~~~~~~~~"), false);
      if  (scrollOrArrow){
        oled_write_P(PSTR("Scroll"), false);
      } else {
        oled_write_P(PSTR("Arrow"), false);
      }
      led_t led_state = host_keyboard_led_state();
      oled_write_P(PSTR("\nCaps: "), false);
      oled_write_P(led_state.caps_lock ? PSTR("on ") : PSTR("off"), false);
      oled_write_P(PSTR("\n"), false);
      switch (get_highest_layer(layer_state)) {
          case _BASE:
              oled_write_P(PSTR("Base   "), false);
              break;
          case _RAISE:
              oled_write_P(PSTR("Raise  "), false);
              break;
          case _LOWER:
              oled_write_P(PSTR("Lower  "), false);
              break;
          case _ADJ:
              oled_write_P(PSTR("Adjust "), false);
              break;
          case _MOUSE:
              oled_write_P(PSTR("Mouse  "), false);
              break;
          case _ALT:
              oled_write_P(PSTR("Alt Tab"), false);
              break;
          case _GAME:
            oled_write_P(PSTR("Gamer  "), false);
            break;
          case _FROG:
            oled_write_P(PSTR("Frog   "), false);
            break;
          case _TOAD:
            oled_write_P(PSTR("Toad   "), false);
            break;
          default:
              oled_write_P(PSTR("Unkn   "), false);
              break;
      }
      oled_write_P(is_combo_enabled() ? PSTR("\nCombos") : PSTR("\n      "), false);

    } else {
      oled_write_P(PSTR("V ^._.^ V\n~~~~~~~~~~Stoopid\n~~~~~~~~~~"), false);
    }
    
}

bool oled_task_user(void) {
    // if (is_keyboard_master()) {
    //   render_status(); // Renders the current keyboard state (layer, lock, caps, scroll, etc)
    // } else {
    //     // render_logo();
    // }
    render_status();
    return false;
}

#endif

#ifdef ENCODER_ENABLE
bool encoder_update_user(uint8_t index, bool clockwise) {
  if (IS_LAYER_ON(_LOWER)){
    if (index == 2) {
        // Volume control
        if (clockwise) {
            tap_code(KC_VOLD);
        } else {
            tap_code(KC_VOLU);
        }
    } else if (index == 0) {
        // next prev
        if (clockwise) {
            tap_code(KC_MNXT);
        } else {
            tap_code(KC_MPRV);
        }
    }
    return true;
  } else if (IS_LAYER_ON(_MOUSE)){
    if (index == 0){
      if (clockwise){
        tap_code(KC_MS_R);
      } else {
        tap_code(KC_MS_L);
      }
    } else if (index == 2){
      if (clockwise){
        tap_code(KC_MS_D);
      } else {
        tap_code(KC_MS_U);
      }
    }
  } else {
    if (scrollOrArrow){
      if (index == 0){
        if (clockwise){
          tap_code(KC_WH_R);
        } else {
          tap_code(KC_WH_L);
        }
      } else if (index == 2){
        if (clockwise){
          tap_code(KC_WH_D);
        } else {
          tap_code(KC_WH_U);
        }
      }
    } else {
      if (index == 0){
        if (clockwise){
          tap_code(KC_RGHT);
        } else {
          tap_code(KC_LEFT);
        }
      } else if (index == 2){
        if (clockwise){
          tap_code(KC_DOWN);
        } else {
          tap_code(KC_UP);
        }
      }
    }
  }
  return true;
}
#endif
